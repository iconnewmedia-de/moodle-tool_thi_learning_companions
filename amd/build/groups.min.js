define("tool_thi_learning_companions/groups",["exports","jquery","core/str","core/modal_factory","core_form/dynamicform","local_thi_learning_companions/datatables"],(function(_exports,_jquery,str,ModalFactory,_dynamicform,_datatables){function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}async function handleGroupDelete(){const confirmTitle=await str.get_string("deletegroupconfirmtitle","tool_thi_learning_companions"),groupId=(0,_jquery.default)(this).data("groupid"),modal=await ModalFactory.create({title:confirmTitle,body:'<div class="js-form-wrapper"></div>',large:!1});modal.show();const formContainer=document.querySelector(".js-form-wrapper"),form=new _dynamicform.default(formContainer,"\\tool_thi_learning_companions\\forms\\confirm_delete_group");await form.load({groupId:groupId}),form.addEventListener(form.events.FORM_SUBMITTED,(()=>{window.location.reload()})),form.addEventListener(form.events.FORM_CANCELLED,(()=>{modal.destroy()}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=async function(){(async function(){const translationURL=await str.get_string("datatables_url","tool_thi_learning_companions");(0,_jquery.default)("#allgroupstable").DataTable({language:{url:translationURL}})})(),(0,_jquery.default)("body").on("click",".js-delete-group",handleGroupDelete)},_jquery=_interopRequireDefault(_jquery),str=_interopRequireWildcard(str),ModalFactory=_interopRequireWildcard(ModalFactory),_dynamicform=_interopRequireDefault(_dynamicform)}));

//# sourceMappingURL=groups.min.js.map