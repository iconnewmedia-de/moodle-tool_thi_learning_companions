define ("tool_learningcompanions/comments",["jquery","core/config","core/str","core/modal_factory","core/modal_events","local_learningcompanions/jquery.dataTables","local_learningcompanions/select2"],function(a,b,c,d,e){return{select2:function select2(){a(".select2").select2()},init:function init(){var b=c.get_string("datatables_url","tool_learningcompanions");b.then(function(b){a("#flaggedcommentstable").DataTable({language:{url:b}})});a(".flaggedcomments-deletecomment").click(function(b){b.preventDefault();var f=a(this).data("cid"),g=a(this).data("comment");c.get_strings([{key:"modal-deletecomment-title",component:"tool_learningcompanions"},{key:"modal-deletecomment-text",component:"tool_learningcompanions",param:g},{key:"modal-deletecomment-okaybutton",component:"tool_learningcompanions"},{key:"modal-deletecomment-cancelbutton",component:"tool_learningcompanions"}]).then(function(a){return d.create({title:a[0],body:"<div id=\"flaggedcomments-deletecomment-modal\"><div id=\"flaggedcomments-deletecomment-modal-text\">"+a[1]+"</div></div>",footer:"<div id=\"flaggedcomments-deletecomment-modal-buttons\"><button class=\"btn btn-primary\" aria-hidden=\"true\" id=\"flaggedcomments-deletecomment-modal-delete\" data-cid=\""+f+"\">"+a[2]+"</button><button class=\"btn btn-secondary\" aria-hidden=\"true\" id=\"flaggedcomments-deletecomment-modal-close\" data-action=\"hide\">"+a[3]+"</button></div>"})}).then(function(a){a.getRoot().on(e.hidden,function(){a.destroy()});a.show()})});a(".flaggedcomments-untagcomment").click(function(b){b.preventDefault();var f=a(this).data("cid"),g=a(this).data("comment");c.get_strings([{key:"modal-untagcomment-title",component:"tool_learningcompanions"},{key:"modal-untagcomment-text",component:"tool_learningcompanions",param:g},{key:"modal-untagcomment-okaybutton",component:"tool_learningcompanions"},{key:"modal-untagcomment-cancelbutton",component:"tool_learningcompanions"}]).then(function(a){return d.create({title:a[0],body:"<div id=\"flaggedcomments-untagcomment-modal\"><div id=\"flaggedcomments-untagcomment-modal-text\">"+a[1]+"</div></div>",footer:"<div id=\"flaggedcomments-untagcomment-modal-buttons\"><button class=\"btn btn-primary\" aria-hidden=\"true\" id=\"flaggedcomments-untagcomment-modal-untag\" data-cid=\""+f+"\">"+a[2]+"</button><button class=\"btn btn-secondary\" aria-hidden=\"true\" id=\"flaggedcomments-untagcomment-modal-close\" data-action=\"hide\">"+a[3]+"</button></div>"})}).then(function(a){a.getRoot().on(e.hidden,function(){a.destroy()});a.show()})});a("body").on("click","#flaggedcomments-deletecomment-modal-close",function(){a(".modal").remove()});a("body").on("click","#flaggedcomments-untagcomment-modal-close",function(){a(".modal").remove()});a("body").on("click","#flaggedcomments-deletecomment-modal-delete",function(){var b=a(this).data("cid");a.ajax({url:M.cfg.wwwroot+"/admin/tool/learningcompanions/ajax.php",method:"POST",dataType:"json",data:{action:"deletecomment",commentid:b},success:function success(){window.location.reload()}})});a("body").on("click","#flaggedcomments-untagcomment-modal-untag",function(){var b=a(this).data("cid");a.ajax({url:M.cfg.wwwroot+"/admin/tool/learningcompanions/ajax.php",method:"POST",dataType:"json",data:{action:"untagcomment",commentid:b},success:function success(){window.location.reload()}})})}}});
//# sourceMappingURL=comments.min.js.map
